<html>
<head>
<link href="https://fonts.googleapis.com/css?family=Nanum+Gothic&display=swap" rel="stylesheet">
<link href="https://mrbossosity.github.io/2.0/css/phb-db-stylesheet.css" rel="stylesheet">
</head>
<body>
  <header> 
    <a href = "https://mrbossosity.github.io/2.0/2.1.html" class = 'phb'>protoHISTORYbowl</a>
    <span class = "doing">searching 2016-2019 NHBB Nats, A-Set B-Set, C-Set, and USHB better than everyone else</span>
  </header>
  <top id = "top"></top>
  <div class = "loader"></div> 
  <div class = "main">
    <input type = "text" id = "userquery">
    <button id = "search" class = "search">Search!</button>
    <div id = "results">
      <div id = "hr"><hr></div>
      <space id = "space"></space>
      <div id = "qresults"></div>
        <hr>
      <div id = "split"></div>
      <div id = "aresults"></div>
      <div id = "intro"><p>search for a keyword or phrase, e.g. <poland>Poland</poland></p></div>
    </div>
  </div>
  
<script src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/a-set/a-bee.js"></script> 
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bee-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bee-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bee-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bee-2019.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bee-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bee-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bee-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bee-2019.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bee-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bee-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bee-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bee-2019.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/ushb/ushb-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/ushb/ushb-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/ushb/ushb-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/ushb/ushb-2019.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/a-set/a-bowl-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/a-set/a-bowl-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/a-set/a-bowl-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/a-set/a-bowl-2019.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bowl-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bowl-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bowl-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/b-set/b-bowl-2019.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bowl-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bowl-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bowl-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/c-set/c-bowl-2019.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bowl-2016.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bowl-2017.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bowl-2018.js"></script>
<script src = "https://mrbossosity.github.io/2.0/ihbb/nats/nats-bowl-2019.js"></script>
  
<script src = "https://mrbossosity.github.io/2.0/ihbb/question-array.js"></script>

<script>
var timer;

$(document).ready(function() {
  startLoader();
  timer = setTimeout(stopLoader, 1340);
})

function startLoader() {
  $(".main").css("display", "none");
  $(".loader").css("display", "inline");
}

function stopLoader() {
  $(".loader").css("display", "none");
  $(".main").css("display", "inline");
  $("#results").css("display", "block");
}

$(document).ready(function() {
  for (var j = 0; j < array.length; j++) {
    if (typeof array[j].ANSWER === 'undefined') {
      array.splice(j, 1)
    }
  }
})
  
var query;
var qnumber;
var anumber;

function init() {
  $("#results").css("display", "none");
  $(".loader").css("display", "inline");
  timer = setTimeout(stopLoader, 650);
  $("#intro").css("display", "none");
  query = $("#userquery").val();
  query = query.toUpperCase();
  $("#hr").css("display", "inline");
}

function processquestionquery() {
  $("#userquery").blur();
  $("#qresults").html("<p id = 'srq' class = 'sr'>Search Results – Tossup</p>");
  qnumber = 0;
}

function processanswerquery() {
  $("#aresults").html("<p id = 'arq' class = 'sr'>Search Results – Answer</p>");
  anumber = 0;
}

$("#search").on("click", function() {
  init();
  questionquery();
  answerquery();
})
                
function questionquery() {
  processquestionquery();
  for (var i = 0; i < array.length; i++) {
    if (array[i].question.toUpperCase().includes(query)) {
      var question = array[i].question;
      var answer = array[i].ANSWER;
      document.getElementById("qresults").innerHTML += ("<p class = 'qresult'>" + question + "<br><br>" + answer + "</p>");
      qnumber += 1;  
    };
  };
  document.getElementById("srq").innerHTML += ("<br><span class = 'srq'>" + qnumber + " " + "questions found </span><a href = '#split' class = 'scroll'>scroll to Answers</a>")
}

function answerquery() {
  processanswerquery();
  for (var k = 0; k < array.length; k++) {
    if (array[k].ANSWER.toUpperCase().includes(query)) {
      var aquestion = array[k].question;
      var aanswer = array[k].ANSWER;
      document.getElementById("aresults").innerHTML += ("<p class = 'aresult'>" + aquestion + "<br><br>" + aanswer + "</p>");
      anumber += 1;  
    };
  };
  document.getElementById("arq").innerHTML += ("<br><span class = 'srq'>" + anumber + " " + "answers found</span><a href = '#top' class = 'scroll'>scroll to Tossups</a>")
}

$("#userquery").on('focus', function() {
  $("#userquery").val("")  
})
  
$("#userquery").keydown(function(e) {
  if (e.keyCode === 13) {
    $("#search").click();
  };
})
</script>
</body>
</html>
